
# Задание 1. Мобильные операционные системы

## 1) С помощью каких **сервисов** можно получить тестовое приложение для iOS?

> Ниже перечислены самые распространённые легальные способы/сервисы раздачи тестовых сборок iOS-приложений.

- **Apple TestFlight (App Store Connect)** — официальный сервис Apple для бета‑тестирования: приглашение по e‑mail или публичной ссылке, до 10 000 внешних тестировщиков, сбор обратной связи и крэшей. Требует загрузки сборки в App Store Connect и соблюдения правил Apple.  
  Полезно, когда нужна простая и безопасная раздача теста широкой группе.  

- **Firebase App Distribution** — быстрая раздача .ipa тестировщикам через консоль Firebase/CLI/CI, группы тестировщиков, уведомления на e‑mail. Работает и для iOS, но требует корректного провижининга (ad‑hoc/enterprise).  
  Удобно для команд на Firebase и интеграций с CI.  

- **Microsoft App Center — Distribute** — загрузка .ipa, управление группами тестеров, портал установки, уведомления об апдейтах. Поддерживает iOS и интеграции с CI/CD. Требуются соответствующие профили подписи.  

- **Sauce Labs TestFairy (Mobile App Distribution)** — корпоративная платформа для дистрибуции и тестирования с аналитикой, репортами, видео‑записями сессий, in‑app bug‑репортингом. Поддерживает безопасную раздачу iOS‑сборок.  

- **Diawi** — «over‑the‑air» раздача .ipa по ссылке/QR. Подходит для быстрого шеринга ad‑hoc/enterprise сборок (требуются устройство в provisioning profile или enterprise‑сертификат).  

- **Install On Air** — аналог Diawi с простым загрузчиком .ipa и выдачей короткой ссылки/QR для OTA‑установки (также требует валидной подписи и профилей).  

- **Appetize.io** — запуск iOS‑приложения в облачном симуляторе **в браузере** (без установки на устройство). Подходит для предпросмотра/демо, саппорта и автоматизации; не заменяет установку на реальном устройстве.  

---

## 2) Максимум «внешних прерывателей», которые могут мешать работе приложения

- Входящий **звонок** / VoIP‑звонок / FaceTime.  
- **SMS/MMS**, входящие **push‑уведомления** (баннеры/алерты/бэджи).  
- **Системные диалоги**: запросы разрешений (камера, гео, микрофон, уведомления), авторизация Apple/Google, биометрия/пароль, диалог выбора Wi‑Fi/BT‑пары, алерты *Low Battery*, *Storage Almost Full*, *Update Available*.  
- **Экранные перекрытия**: входящий звонок баннером/полноэкранно, системные *share sheets*, *Open with…*, Picture‑in‑Picture поверх.  
- **Переход в фон**: кнопка Home/жест, входящее системное окно, блокировка экрана, переключение приложений.  
- **Аудио‑прерывания**: потеря аудиофокуса, подключение/отключение наушников/BT, смена аудиомаршрута.  
- **Сетевые события**: пропадание/смена сети, captive portal, режим полёта, ограничение фоновых данных.  
- **Ориентация/мульти‑оконность**: поворот экрана, Split View/Slide Over (iPadOS), смена размеров окна.  
- **Ограничения ресурсов**: давление по памяти, нехватка диска, троттлинг ЦП/ГП, перегрев.  
- **Системные службы**: срабатывание будильника/календаря, таймеры, вход/выход из DND/Focus.  
- **Приватность/безопасность**: запрос доступа к буферу обмена, индикаторы записи камеры/микрофона, VPN‑переключения, MDM‑политики.  
- **Обновления**: авто‑обновление приложения/OS, перезапуск устройства.  

---

## 3) Режимы (состояния) работы мобильного приложения

### iOS
- **Not Running** — приложение не запущено.  
- **Inactive** — на экране, но не получает события (например, поверх системный алерт/анимация перехода).  
- **Active (Foreground)** — активно на экране и получает события.  
- **Background** — выполняет ограниченный код в фоне (задачи, background fetch, аудио/GPS и т. п.).  
- **Suspended** — заморожено в памяти без выполнения кода; может быть выгружено системой при нехватке ресурсов.

### Android (упрощённо с точки зрения поведения)
- **Foreground (Resumed)** — активность на экране, получает ввод.  
- **Visible (Paused)** — видно частично/поверх диалог, но ввода нет.  
- **Background (Stopped)** — не видно; может выполнять фоновые работы (Service/WorkManager) по ограничениям ОС.  
- **Killed** — процесс завершён системой/пользователем; состояние следует сохранять и восстанавливать.  
- Дополнительно: режимы экономии (**Doze/App Standby**), **Foreground Service** (уведомление, повышенный приоритет).

---

## 4) Что такое утечка памяти в контексте мобильного приложения?

**Утечка памяти** — ситуация, когда приложение удерживает ссылки на объекты, которые **уже не нужны**, поэтому сборщик мусора (Android) или ARC (iOS) **не может освободить** память.  
Последствия: рост потребления RAM, падение производительности, **crash по OOM** (Out‑of‑Memory), ускоренный расход батареи.

**Типичные причины:**
- **iOS (ARC):** retain‑циклы между объектами/closures, долгоживущие таймеры/NotificationCenter‑обработчики без `remove`, сильные ссылки из синглтонов на контроллеры/делегаты.  
- **Android (GC):** утечки `Context`/`Activity` в статических полях/синглтонах, незакрытые курсоры/стримы, долгоживущие `Handler`/`Runnable` к уничтоженным `Activity`, подписки Rx/корутины без отмены, большие `Bitmap` без `recycle()` (в старых API) или без своевременного освобождения ссылок.

**Как искать:**
- iOS: **Xcode Instruments → Leaks/Allocations**, Memory Graph Debugger.  
- Android: **Android Studio Profiler**, **LeakCanary**, heap‑dumps/`ADB`.

